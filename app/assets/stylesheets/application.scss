// Bootstrapのメインスタイルを読み込み
@use "bootstrap/scss/bootstrap";

// ショップ専用のスタイルを読み込み
@import "shop";

// カスタムスタイルをここに記述

// ヘッダーナビゲーション用のカスタムスタイル
.navbar {
  box-shadow: 0 2px 4px rgba(0, 0, 0, 0.1);
}

.navbar-brand {
  font-weight: bold;
}

.nav-link {
  font-weight: 500;
  transition: color 0.2s ease;
}

.nav-link:hover {
  color: #fff !important;
}

// バッジのスタイルを明示的に定義
.badge {
  display: inline-block;
  padding: 0.25em 0.6em;
  font-size: 0.75rem;
  font-weight: 700;
  line-height: 1;
  text-align: center;
  white-space: nowrap;
  vertical-align: baseline;
  border-radius: 0.375rem;
  color: #fff;
}

// 請求書詳細画面のh2の横のバッジを請求書一覧画面と同じサイズにする
h2 .badge, .h2 .badge {
  font-size: 0.75rem !important;
  padding: 0.25em 0.6em !important;
}

.badge-success {
  background-color: #28a745;
}

.badge-secondary {
  background-color: #6c757d;
}

// 受注一覧の「発行済」と同じ緑色（#28a745）を使用するバッジクラス
.badge.bg-invoiced,
.bg-invoiced {
  background-color: #28a745 !important;
}

// 顧客名検索の候補表示スタイル
#company_name_suggestions {
  max-height: 200px;
  overflow-y: auto;
  border: 1px solid #dee2e6;
  border-radius: 0.375rem;
  box-shadow: 0 0.125rem 0.25rem rgba(0, 0, 0, 0.075);
}

.suggestion-item {
  cursor: pointer;
  transition: background-color 0.15s ease-in-out;
}

.suggestion-item:hover {
  background-color: #f8f9fa;
}

.suggestion-item:last-child {
  border-bottom: none !important;
}

// h2、h3、h4のフォントサイズを10%小さくする
h2, .h2 {
  font-size: 1.8rem !important; // デフォルト2remの90%
}

h3, .h3 {
  font-size: 1.575rem !important; // デフォルト1.75remの90%
}

h4, .h4 {
  font-size: 1.215rem !important; // デフォルト1.5remの81%（90%のさらに90%）
}

// 共通ユーティリティクラス
.clear-left {
  clear: left;
}

// オートコンプリート結果のスタイル（共通化）
.autocomplete-results {
  position: absolute;
  top: 100%;
  left: 0;
  right: 0;
  background: white;
  border: 1px solid #ccc;
  border-top: none;
  max-height: 200px;
  overflow-y: auto;
  z-index: 1000;
}

// フォームグループのスペーシング（共通化）
.form-group-spacing {
  line-height: 1.5;
  margin-bottom: 1.5rem;
}

// ページネーションのカスタムスタイル
.custom-page-link {
  padding: 0.5rem 0.75rem !important;
  margin: 0 0.125rem !important;
  letter-spacing: 0.15em !important;
  min-width: 2.5rem !important;
  text-align: center !important;
  display: inline-block !important;
  text-decoration: none !important;
  border: 1px solid #dee2e6 !important;
  border-radius: 0.375rem !important;
  color: #0d6efd !important;
  background-color: #fff !important;
  font-weight: 500 !important;
  transition: all 0.2s ease-in-out !important;
}

.pagination .page-item {
  margin: 0 0.125rem !important;
  display: inline-block !important;
}

// アクティブなページ番号のスタイル
.pagination .page-item.active .custom-page-link {
  background-color: #0d6efd !important;
  border-color: #0d6efd !important;
  color: #fff !important;
  letter-spacing: 0.15em !important;
  font-weight: 600 !important;
}

// ホバー時のスタイル
.custom-page-link:hover {
  background-color: #e9ecef !important;
  border-color: #dee2e6 !important;
  color: #0d6efd !important;
  transform: translateY(-1px) !important;
  box-shadow: 0 2px 4px rgba(0,0,0,0.1) !important;
}

// 無効なページリンクのスタイル
.pagination .page-item.disabled .custom-page-link {
  color: #6c757d !important;
  background-color: #f8f9fa !important;
  border-color: #dee2e6 !important;
  cursor: not-allowed !important;
  opacity: 0.6 !important;
}

// ページネーション全体のスタイル
.pagination {
  margin: 0 !important;
  padding: 0 !important;
  justify-content: center !important;
}

// 注文明細テーブルの列幅指定
.table.order-item-table {
  table-layout: fixed !important;
  width: 100% !important;

  colgroup {
    col:nth-child(1) { width: 75px !important; min-width: 75px !important; max-width: 75px !important; }   // 商品コード
    col:nth-child(2) { width: 200px !important; min-width: 180px !important; }  // 商品（残りのpx数で固定）
    col:nth-child(3) { width: 70px !important; min-width: 70px !important; max-width: 70px !important; }   // 規格
    col:nth-child(4) { width: 80px !important; min-width: 80px !important; max-width: 80px !important; }   // 単価
    col:nth-child(5) { width: 70px !important; min-width: 70px !important; max-width: 70px !important; }   // 税率（10%表示用の固定幅）
    col:nth-child(6) { width: 70px !important; min-width: 70px !important; max-width: 70px !important; }   // 数量
    col:nth-child(7) { width: 77px !important; min-width: 77px !important; max-width: 77px !important; }   // 単位（64pxの120%）
    col:nth-child(8) { width: 110px !important; min-width: 110px !important; max-width: 110px !important; }  // 税抜金額（7桁の数字表示用）
    col:nth-child(9) { width: 110px !important; min-width: 110px !important; max-width: 110px !important; }  // 税込金額（7桁の数字表示用）
    col:nth-child(10) { width: 65px !important; min-width: 65px !important; max-width: 65px !important; }  // 備考（162pxの40%）
    col:nth-child(11) { width: 70px !important; min-width: 70px !important; max-width: 70px !important; }  // 削除ボタン
  }

  // すべてのヘッダーを中央揃えに
  thead th {
    text-align: center !important;
  }

  thead th:nth-child(1),
  tbody td:nth-child(1) { 
    width: 75px !important;
    min-width: 75px !important;
    max-width: 75px !important;
    padding-left: 4px !important;
    padding-right: 4px !important;
  }

  thead th:nth-child(2),
  tbody td:nth-child(2) { 
    width: 200px !important;
    min-width: 180px !important;
    max-width: 200px !important;
  }

  thead th:nth-child(3),
  tbody td:nth-child(3) { 
    width: 70px !important;
    min-width: 70px !important;
    max-width: 70px !important;
  }

  thead th:nth-child(4),
  tbody td:nth-child(4) { 
    width: 80px !important;
    min-width: 80px !important;
    max-width: 80px !important;
  }

  thead th:nth-child(5) {
    width: 70px !important;
    min-width: 70px !important;
    max-width: 70px !important;
    text-align: center !important;
  }

  tbody td:nth-child(5) { 
    width: 70px !important;
    min-width: 70px !important;
    max-width: 70px !important;
    text-align: right !important;
  }

  thead th:nth-child(6),
  tbody td:nth-child(6) { 
    width: 70px !important;
    min-width: 70px !important;
    max-width: 70px !important;
  }

  thead th:nth-child(7),
  tbody td:nth-child(7) { 
    width: 77px !important;
    min-width: 77px !important;
    max-width: 77px !important;
  }

  thead th:nth-child(8),
  tbody td:nth-child(8) { 
    width: 110px !important;
    min-width: 110px !important;
    max-width: 110px !important;
  }

  thead th:nth-child(9),
  tbody td:nth-child(9) { 
    width: 110px !important;
    min-width: 110px !important;
    max-width: 110px !important;
  }

  thead th:nth-child(10),
  tbody td:nth-child(10) { 
    width: 65px !important;
    min-width: 65px !important;
    max-width: 65px !important;
  }

  thead th:nth-child(11),
  tbody td:nth-child(11) { 
    width: 70px !important;
    min-width: 70px !important;
    max-width: 70px !important;
  }
}

  // 注文明細テーブルのセル内要素のスタイル
  .order-item-table {
    .tax-rate-display {
      min-width: 50px;
      width: 100%;
      text-align: center;
      white-space: nowrap;
    }

    tbody td:nth-child(5) {
      text-align: center !important;
    }

    // 単価入力フィールドを右揃え
    tbody td:nth-child(4) {
      text-align: right !important;
      .unit-price-display {
        text-align: right !important;
      }
    }

    // 数量入力フィールドを右揃え（スピナーを非表示）
    tbody td:nth-child(6) {
      text-align: right !important;
      .quantity-input {
        text-align: right !important;
        // スピナー（上下矢印）を非表示
        -moz-appearance: textfield;
        appearance: textfield;
        &::-webkit-inner-spin-button,
        &::-webkit-outer-spin-button {
          -webkit-appearance: none;
          margin: 0;
        }
      }
    }

    // 単位セレクトボックスを中央揃え
    tbody td:nth-child(7) {
      text-align: center !important;
      select {
        text-align: center !important;
      }
    }

    .subtotal-without-tax,
    .subtotal-with-tax {
      min-width: 100px;
      width: 100%;
    }

    td {
      vertical-align: middle;
    }

  // 合計行の税抜・税込カラムを明細行と同じスタイルに
  tfoot td:nth-child(8),
  tfoot td:nth-child(9) {
    text-align: right !important;
  }

  // 合計金額表示を明細行と同じ幅に
  .order-total-amount {
    min-width: 100px;
    width: 100%;
    display: inline-block;
    text-align: right;
    white-space: nowrap;
  }
}

// フォーム要素の幅指定
.form-control-width-100 {
  width: 100px;
}

.form-control-width-150 {
  width: 150px;
}

.form-control-width-auto {
  width: auto;
  min-width: fit-content;
}

// フォーム内の3列レイアウト
.form-three-columns > div {
  width: 30%;
}

// コンテナの最大幅
.container-max-width-800 {
  max-width: 800px;
}

// 日付表示用：通常のフォントを使いつつ、数字のみ等幅にする
.date-monospace {
  font-variant-numeric: tabular-nums;
  font-weight: 400;
}

// マスター系一覧ページのテーブルレイアウト修正
// table-responsive内のテーブルを100%幅にして右側の余白をなくす
.table-responsive {
  table {
    width: 100% !important;
    min-width: 100% !important;
    margin-bottom: 0;
    table-layout: auto;
  }
}

// card-body内のテーブルも100%幅にする（table-responsiveで囲まれていない場合）
.card-body {
  > .table {
    width: 100% !important;
    min-width: 100% !important;
  }
}